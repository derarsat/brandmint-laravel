import{r as c,H as T,I as N,J as A,E as J,K as X,g as h,L as R,M as K,F as O,_ as Z,N as se,o as k,c as P,b as e,G as U,B as C,O as ae,C as V,d as x,e as w,i as D,t as F,k as le,D as L,f as oe,A as ne,p as re,j as ie,a as de}from"./preload-helper.8e27f255.js";import{t as q,P as B,b as ue,m as ce,A as pe,p as me,o as z,a as ve,k as fe,C as he,M as _e,w as ge}from"./listbox.3bc07e77.js";let Q=Symbol("DescriptionContext");function be(){let l=R(Q,null);if(l===null)throw new Error("Missing parent");return l}function ye({slot:l=c({}),name:d="Description",props:r={}}={}){let s=c([]);function n(o){return s.value.push(o),()=>{let u=s.value.indexOf(o);u!==-1&&s.value.splice(u,1)}}return T(Q,{register:n,slot:l,name:d,props:r}),N(()=>s.value.length>0?s.value.join(" "):void 0)}let bt=A({name:"Description",props:{as:{type:[Object,String],default:"p"}},setup(l,{attrs:d,slots:r}){let s=be(),n=`headlessui-description-${q()}`;return J(()=>X(s.register(n))),()=>{let{name:o="Description",slot:u=c({}),props:_={}}=s,g=l,m={...Object.entries(_).reduce((v,[b,y])=>Object.assign(v,{[b]:h(y)}),{}),id:n};return B({ourProps:m,theirProps:g,slot:u.value,attrs:d,slots:r,name:o})}}}),W=Symbol("LabelContext");function ee(){let l=R(W,null);if(l===null){let d=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(d,ee),d}return l}function we({slot:l={},name:d="Label",props:r={}}={}){let s=c([]);function n(o){return s.value.push(o),()=>{let u=s.value.indexOf(o);u!==-1&&s.value.splice(u,1)}}return T(W,{register:n,slot:l,name:d,props:r}),N(()=>s.value.length>0?s.value.join(" "):void 0)}let xe=A({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1}},setup(l,{slots:d,attrs:r}){let s=ee(),n=`headlessui-label-${q()}`;return J(()=>X(s.register(n))),()=>{let{name:o="Label",slot:u={},props:_={}}=s,{passive:g,...m}=l,v={...Object.entries(_).reduce((b,[y,$])=>Object.assign(b,{[y]:h($)}),{}),id:n};return g&&(delete v.onClick,delete m.onClick),B({ourProps:v,theirProps:m,slot:u,attrs:r,slots:d,name:o})}}}),te=Symbol("GroupContext"),G=A({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(l,{slots:d,attrs:r}){let s=c(null),n=we({name:"SwitchLabel",props:{onClick(){!s.value||(s.value.click(),s.value.focus({preventScroll:!0}))}}}),o=ye({name:"SwitchDescription"});return T(te,{switchRef:s,labelledby:n,describedby:o}),()=>B({theirProps:l,ourProps:{},slot:{},slots:d,attrs:r,name:"SwitchGroup"})}}),H=A({name:"Switch",emits:{"update:modelValue":l=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:!1},name:{type:String,optional:!0},value:{type:String,optional:!0}},inheritAttrs:!1,setup(l,{emit:d,attrs:r,slots:s,expose:n}){let o=R(te,null),u=`headlessui-switch-${q()}`;function _(){d("update:modelValue",!l.modelValue)}let g=c(null),m=o===null?g:o.switchRef,v=ue(N(()=>({as:l.as,type:r.type})),m);n({el:m,$el:m});function b(f){f.preventDefault(),_()}function y(f){f.key===z.Space?(f.preventDefault(),_()):f.key===z.Enter&&ve(f.currentTarget)}function $(f){f.preventDefault()}return()=>{let{name:f,value:E,modelValue:S,...I}=l,i={checked:S},a={id:u,ref:m,role:"switch",type:v.value,tabIndex:0,"aria-checked":S,"aria-labelledby":o==null?void 0:o.labelledby.value,"aria-describedby":o==null?void 0:o.describedby.value,onClick:b,onKeyup:y,onKeypress:$};return K(O,[f!=null&&S!=null?K(ce,pe({features:me.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:S,name:f,value:E})):null,B({ourProps:a,theirProps:{...r,...I},slot:i,attrs:r,slots:s,name:"Switch"})])}}}),Y=xe;const p=l=>(re("data-v-5d22e614"),l=l(),ie(),l),ke=p(()=>e("h1",{class:"text-4xl mt-4 mb-12 font-medium"},"Project Details",-1)),je={class:"grid grid-cols-12 gap-8"},Pe={class:"col-span-12 bg-white py-4 px-6 rounded-md border-2"},Se={class:"font-semibold text-lg flex items-center justify-between"},Ce=p(()=>e("span",null,"Project images",-1)),$e={class:"grid grid-cols-6 gap-4 mt-4"},Ve={class:"bg-gray-100 bg-opacity-80 border-2 rounded-md flex items-center flex-col justify-center py-4"},Le=["for"],De=p(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),Oe=p(()=>e("span",{class:"font-medium mt-1 text-sm"},"Add image",-1)),Ae=["id","onChange"],Be=["id"],Ee=["onClick"],Ie=p(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1)),Me=D(" Remove "),Ue=[Ie,Me],Fe={class:"grid grid-cols-3 col-span-9 gap-8 bg-white p-4 border-2 rounded-md"},Te={class:"input-group"},Ne=p(()=>e("label",{for:"name"},"Project Name",-1)),Re={class:"input-group"},qe=p(()=>e("label",{for:"location"},"Project Location",-1)),Ke={class:"input-group"},ze=p(()=>e("label",{for:"link"},"Project Link",-1)),Ge={class:"input-group col-span-2"},He=p(()=>e("label",{for:"description"},"Project Description",-1)),Ye={class:"input-group relative"},Je=p(()=>e("label",{for:"category"},"Project Category",-1)),Xe=p(()=>e("span",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",class:"h-5 w-5 text-gray-400"},[e("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1)),Ze={class:"input-group mt-6"},Qe=p(()=>e("label",{for:"tags"},"Project Tags",-1)),We={class:"col-span-3"},et={class:"w-full border-2 rounded-md py-6 px-4 bg-white"},tt=p(()=>e("h2",{class:"font-semibold text-lg"},"Additional Information",-1)),st={class:"mt-6"},at={class:"flex items-center gap-2"},lt=D("Published"),ot=p(()=>e("span",{class:"sr-only"},"Enable notifications",-1)),nt={class:"flex items-center gap-2"},rt=D("Featured"),it=p(()=>e("span",{class:"sr-only"},"Enable notifications",-1)),dt={class:"mt-6 flex gap-4"},ut={key:0,class:"inline-block"},ct={class:"bg-red-500 p-4 inline-block rounded-md text-white"},pt={__name:"ProjectForm",setup(l){const d=c(["Environmental Design","F&B"]),r=c(d.value[0]),s=c(!1),n=c(!1),o=c("name"),u=c("link"),_=c("location"),g=c("description"),m=c("tags");let v=se([]);const b=c(!1),y=c([]);function $(){v.push({hasImage:!1})}function f(i){const a=document.getElementById(`temp-image-${i}`),t=document.getElementById(`hidden-input-${i}`);a.src=URL.createObjectURL(t.files[0]),v[i].hasImage=!0}async function E(){await S()}async function S(){y.value=[],b.value=!0;let i=new FormData;i.append("category",r.value),i.append("featured",s.value?1:0),i.append("published",n.value?1:0),i.append("name",o.value),i.append("link",u.value),i.append("location",_.value),i.append("description",g.value),i.append("tags",m.value);const a=document.getElementsByClassName("image-input-wrapper");if(Array.from(a).forEach(t=>{t.files[0]&&i.append("images[]",t.files[0])}),a.length===0){alert("Please add at least one image");return}await window.axios({method:"POST",url:"/dashboard/save-project","Content-Type":"multipart/form-data",data:i}).then(t=>{alert("Project added successfully"),s.value=!1,n.value=!1,o.value="",u.value="",_.value="",g.value="",m.value="",v.value=[],b.value=!1}).catch(t=>{let j=t.response.data.errors;Object.keys(j).map(M=>{y.value.push(j[M][0])})}).finally(()=>b.value=!1)}function I(i){v.value=v.splice(i,1)}return(i,a)=>(k(),P("form",{onSubmit:a[9]||(a[9]=ne(t=>E(),["prevent"])),class:"p-6 rounded-md"},[ke,e("div",je,[e("div",Pe,[e("h2",Se,[Ce,e("button",{class:"bg-primary text-white text-base px-4 py-2 rounded-md",onClick:a[0]||(a[0]=t=>$()),type:"button"},"Add image ")]),e("div",$e,[(k(!0),P(O,null,U(h(v),(t,j)=>(k(),P("div",Ve,[C(e("label",{for:`hidden-input-${j}`,class:"cursor-pointer flex items-center justify-center flex-col"},[De,Oe,e("input",{type:"file",class:"image-input-wrapper hidden",id:`hidden-input-${j}`,onChange:M=>f(j)},null,40,Ae)],8,Le),[[ae,!t.hasImage]]),e("div",null,[e("img",{id:`temp-image-${j}`,src:"",alt:""},null,8,Be),e("button",{type:"button",onClick:M=>I(j),class:"flex items-center gap-1 text-red-400 mt-2 mx-auto"},Ue,8,Ee)])]))),256))])]),e("div",Fe,[e("div",Te,[Ne,C(e("input",{id:"name",type:"text","onUpdate:modelValue":a[1]||(a[1]=t=>o.value=t),required:""},null,512),[[V,o.value]])]),e("div",Re,[qe,C(e("input",{id:"location",type:"text","onUpdate:modelValue":a[2]||(a[2]=t=>_.value=t),required:""},null,512),[[V,_.value]])]),e("div",Ke,[ze,C(e("input",{id:"link",type:"text","onUpdate:modelValue":a[3]||(a[3]=t=>u.value=t),required:""},null,512),[[V,u.value]])]),e("div",Ge,[He,C(e("textarea",{id:"description",class:"h-40 py-4","onUpdate:modelValue":a[4]||(a[4]=t=>g.value=t),required:""}," ",512),[[V,g.value]])]),e("div",null,[e("div",Ye,[Je,x(h(ge),{modelValue:r.value,"onUpdate:modelValue":a[5]||(a[5]=t=>r.value=t)},{default:w(()=>[x(h(fe),{class:"lbb"},{default:w(()=>[D(F(r.value)+" ",1),Xe]),_:1}),x(h(he),{class:"list-options"},{default:w(()=>[(k(!0),P(O,null,U(d.value,t=>(k(),le(h(_e),{class:"list-option",key:t,value:t},{default:w(()=>[D(F(t),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),e("div",Ze,[Qe,C(e("input",{id:"tags",type:"text","onUpdate:modelValue":a[6]||(a[6]=t=>m.value=t),required:""},null,512),[[V,m.value]])])])]),e("div",We,[e("div",et,[tt,e("div",st,[e("div",at,[x(h(G),null,{default:w(()=>[x(h(Y),{class:"m-2"},{default:w(()=>[lt]),_:1}),x(h(H),{modelValue:n.value,"onUpdate:modelValue":a[7]||(a[7]=t=>n.value=t),class:L([n.value?"bg-primary":"bg-primary bg-opacity-20","relative inline-flex h-6 w-11 items-center rounded-full"])},{default:w(()=>[ot,e("span",{class:L([n.value?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform transition rounded-full bg-white"])},null,2)]),_:1},8,["modelValue","class"])]),_:1})]),e("div",nt,[x(h(G),null,{default:w(()=>[x(h(Y),{class:"m-2 mr-4"},{default:w(()=>[rt]),_:1}),x(h(H),{modelValue:s.value,"onUpdate:modelValue":a[8]||(a[8]=t=>s.value=t),class:L([s.value?"bg-primary":"bg-primary bg-opacity-20","relative inline-flex h-6 w-11 items-center rounded-full"])},{default:w(()=>[it,e("span",{class:L([s.value?"translate-x-6":"translate-x-1","inline-block h-4 w-4 transform transition rounded-full bg-white"])},null,2)]),_:1},8,["modelValue","class"])]),_:1})])])])])]),e("div",dt,[e("input",{type:"submit",value:"Save",class:L(["inline-block border-none w-auto px-24 bg-primary text-white font-medium cursor-pointer hover:bg-opacity-50",b.value&&"cursor-not-allowed opacity-70"])},null,2),y.value.length>0?(k(),P("div",ut,[e("div",ct,[(k(!0),P(O,null,U(y.value,t=>(k(),P("p",null," - "+F(t),1))),256))])])):oe("",!0)])],32))}},mt=Z(pt,[["__scopeId","data-v-5d22e614"]]),vt={name:"AdminAddProject",components:{ProjectForm:mt}},ft={class:"container"};function ht(l,d,r,s,n,o){const u=de("project-form");return k(),P("div",ft,[x(u)])}const yt=Z(vt,[["render",ht]]);export{yt as default};
